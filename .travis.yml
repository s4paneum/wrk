sudo: false
language: c

addons:
  sonarcloud:
    organization: "s4paneum-organization"
token: $SONAR_TOKEN2


script:
  sonar-scanner.bat
  -D"sonar.projectKey=s4paneum_wrk"
  -D"sonar.organization=s4paneum-github"
  -D"sonar.sources=."
  -D"sonar.cfamily.build-wrapper-output=bw-output"
  -D"sonar.host.url=https://sonarcloud.io"
  -D"sonar.login=4d274ca64e9f9c62567989cb460c751b8c0ad464"

matrix:
  include:
  # works on Precise and Trusty
  - os: linux
    addons:
      apt:
        sources:
        - ubuntu-toolchain-r-test
        packages:
        - g++-4.9
    env:
    - MATRIX_EVAL="CC=gcc-4.9 && CXX=g++-4.9"

  # works on Precise and Trusty
  - os: linux
    addons:
      apt:
        sources:
        - ubuntu-toolchain-r-test
        packages:
        - g++-5
    env:
    - MATRIX_EVAL="CC=gcc-5 && CXX=g++-5"

  # works on Precise and Trusty
  - os: linux
    addons:
      apt:
        sources:
        - ubuntu-toolchain-r-test
        packages:
        - g++-6
    env:
    - MATRIX_EVAL="CC=gcc-6 && CXX=g++-6"

  # works on Precise and Trusty
  - os: linux
    addons:
      apt:
        sources:
        - ubuntu-toolchain-r-test
        packages:
        - g++-7
    env:
    - MATRIX_EVAL="CC=gcc-7 && CXX=g++-7"

before_install:
- eval "${MATRIX_EVAL}
